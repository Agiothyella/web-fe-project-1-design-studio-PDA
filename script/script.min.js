const popup=document.querySelectorAll(".popup"),popupL=document.querySelector(".popup--landscape"),popupP=document.querySelector(".popup--potrait"),overlay=document.querySelector(".popup__overlay"),triggerClosePopup=document.querySelectorAll(".popup__close"),triggerShowPopupL=document.querySelectorAll(".art__artwork--landscape"),triggerShowPopupP=document.querySelectorAll(".art__artwork--potrait"),slideImg=document.getElementsByClassName("slider__img"),slideTxt=document.getElementsByClassName("slider__text"),slideDesign=document.getElementsByClassName("service__design"),slideDesignText=document.getElementsByClassName("service__text"),slideDesignImages=document.getElementsByClassName("service__images"),slideClientMessage=document.getElementsByClassName("client__message"),progressWrapper=document.querySelector(".service__wrapper"),progressService=document.querySelector(".service__progress");let slideDot=document.getElementsByClassName("slider__dot"),indexImg=Math.floor(Math.random()*slideImg.length)+1,indexTxt=Math.floor(Math.random()*slideTxt.length)+1,indexDesign=Math.floor(Math.random()*slideDesign.length)+1,indexMessage=Math.floor(Math.random()*slideClientMessage.length)+1,indexMessageNext=indexMessage-1,timerHead,timerDesign,timerMessage;const navigation=document.querySelector(".nav"),smallNav=document.querySelector(".nav__small"),smallNavClose=document.querySelector(".nav__small__close"),smallNavList=document.querySelectorAll(".nav__small-item"),headerNav=document.querySelector(".header__nav");function closePopup(){for(let i=0;i<popup.length;i++)popup[i].classList.remove("u-display--block","open-popup");overlay.classList.remove("u-display--block","open-overlay")}function openPopup(popupPass){popupPass.classList.add("u-display--block","open-popup"),overlay.classList.add("u-display--block","open-overlay")}function addShowListener(which,popupPass){for(let i=0;i<which.length;i++)which[i].addEventListener("click",function(){openPopup(popupPass)})}function showSlidesHead(){removeHead(),indexImg++,indexTxt++,indexImg=checkNextSlide(indexImg,slideImg),indexTxt=checkNextSlide(indexTxt,slideTxt),displayHead(),timerHead=setTimeout(showSlidesHead,7e3)}function slideHead(position){clearTimeout(timerHead),removeHead(),indexImg+=position,indexTxt+=position,indexImg=checkSlides(indexImg,slideImg),indexTxt=checkSlides(indexTxt,slideTxt),displayHead(),timerHead=setTimeout(showSlidesHead,7e3)}function showSlidesService(){serviceTransitionAdd(),setTimeout(showSlidesServiceNext,500)}function showSlidesServiceNext(){serviceTransitionRemove(),removeService(),removeAnim(),indexDesign++,indexDesign=checkNextSlide(indexDesign,slideDesignText),displayService(),setTimeout(function(){addAnim("progress-10s")},100),timerDesign=setTimeout(showSlidesService,1e4)}let pauseService=0;function slideService(activeNumber){progressWrapper.classList.add("slide-fade-out"),pauseService||(pauseService=1,clearTimeout(timerDesign),serviceTransitionAdd(),setTimeout(slideServiceNext,500,activeNumber),setTimeout(function(){pauseService=0},500))}function slideServiceNext(activeNumber){serviceTransitionRemove(),removeService(),removeAnim(),indexDesign=activeNumber,displayService(),setTimeout(function(){addAnim("progress-25s")},100),timerDesign=setTimeout(showSlidesService,25e3)}function showSlidesMessage(){removeMessage(),indexMessage++,indexMessageNext++,indexMessageNext=checkNextSlide(indexMessageNext,slideClientMessage),indexMessage=checkNextSlide(indexMessage,slideClientMessage),slideClientMessage[indexMessage-1].classList.add("client__message--active"),slideClientMessage[indexMessageNext-1].classList.add("client__message--slided"),timerMessage=setTimeout(showSlidesMessage,17e3)}let pauseMessage=0;function slideMessage(position){pauseMessage||(pauseMessage=1,clearTimeout(timerMessage),indexMessage+=position,indexMessageNext+=position,indexMessageNext=checkSlides(indexMessageNext,slideClientMessage),indexMessage=checkSlides(indexMessage,slideClientMessage),removeMessage(),displayMessage(),timerMessage=setTimeout(showSlidesMessage,17e3),setTimeout(function(){pauseMessage=0},1e3))}function showNavSmall(){smallNav.classList.toggle("nav-visible")}function checkNextSlide(index,slide){return index=index>slide.length?1:index}function checkSlides(index,slide){return index>slide.length?index=1:index<1&&(index=slide.length),index}function removeHead(){for(i=0;i<slideImg.length;i++)slideImg[i].classList.remove("u-visible"),slideDot[i].classList.remove("slider__dot--active");for(i=0;i<slideTxt.length;i++)slideTxt[i].classList.remove("u-visible")}function displayHead(){slideImg[indexImg-1].classList.add("u-visible"),slideTxt[indexTxt-1].classList.add("u-visible"),slideDot[indexImg-1].classList.add("slider__dot--active")}function displayService(){slideDesignText[indexDesign-1].classList.add("u-display--block"),slideDesignImages[indexDesign-1].classList.add("u-display--grid"),slideDesign[indexDesign-1].classList.add("service__design--active")}function removeService(){for(i=0;i<slideDesign.length;i++)slideDesign[i].classList.remove("service__design--active"),slideDesignText[i].classList.remove("u-display--block"),slideDesignImages[i].classList.remove("u-display--grid")}function serviceTransitionAdd(){for(i=0;i<slideDesign.length;i++)slideDesignText[i].classList.add("slide-fade-out"),slideDesignImages[i].classList.add("slide-fade-out")}function serviceTransitionRemove(){for(i=0;i<slideDesign.length;i++)slideDesignText[i].classList.remove("slide-fade-out"),slideDesignImages[i].classList.remove("slide-fade-out"),progressWrapper.classList.remove("slide-fade-out")}function removeAnim(){progressService.classList.remove("progress-10s"),progressService.classList.remove("progress-25s")}function addAnim(animation){progressService.classList.add(animation)}function removeMessage(){for(i=0;i<slideClientMessage.length;i++)slideClientMessage[i].classList.remove("client__message--active"),slideClientMessage[i].classList.remove("client__message--slided")}function displayMessage(){slideClientMessage[indexMessage-1].classList.add("client__message--active"),slideClientMessage[indexMessageNext-1].classList.add("client__message--slided")}for(let i=0;i<triggerClosePopup.length;i++)triggerClosePopup[i].addEventListener("click",closePopup);overlay.addEventListener("click",closePopup),document.addEventListener("keydown",function(event){"Escape"===event.key&&closePopup()});const stickyNav=new Waypoint({element:document.querySelector(".js-nav-waypoint"),handler:function(){navigation.classList.toggle("sticky-nav"),headerNav.classList.toggle("u-invisible")}}),stickyNavBg=new Waypoint({element:document.querySelector(".js-nav-waypoint"),handler:function(){navigation.classList.toggle("nav-white-bg")},offset:-50});for(let i=0;i<smallNavList.length;i++)smallNavList[i].addEventListener("click",function(){smallNav.classList.remove("nav-visible")});smallNavClose.addEventListener("click",function(){smallNav.classList.remove("nav-visible")}),showSlidesHead(),showSlidesService(),showSlidesMessage(),addShowListener(triggerShowPopupL,popupL),addShowListener(triggerShowPopupP,popupP);